{"absolutePath":"/home/dok/web3/stackup/keystore/lib/account-abstraction/contracts/core/Helpers.sol","exportedSymbols":{"SIG_VALIDATION_FAILED":[800],"SIG_VALIDATION_SUCCESS":[803],"ValidationData":[811],"_packValidationData":[908,946],"_parseValidationData":[871],"calldataKeccak":[956],"finalizeAllocation":[984],"min":[974]},"id":985,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":797,"literals":["solidity","^","0.8",".28"],"nodeType":"PragmaDirective","src":"32:24:0"},{"constant":true,"id":800,"mutability":"constant","name":"SIG_VALIDATION_FAILED","nameLocation":"277:21:0","nodeType":"VariableDeclaration","scope":985,"src":"260:42:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":798,"name":"uint256","nodeType":"ElementaryTypeName","src":"260:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"31","id":799,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"301:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"visibility":"internal"},{"constant":true,"id":803,"mutability":"constant","name":"SIG_VALIDATION_SUCCESS","nameLocation":"436:22:0","nodeType":"VariableDeclaration","scope":985,"src":"419:43:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":801,"name":"uint256","nodeType":"ElementaryTypeName","src":"419:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"value":{"hexValue":"30","id":802,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"461:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"visibility":"internal"},{"canonicalName":"ValidationData","documentation":{"id":804,"nodeType":"StructuredDocumentation","src":"466:659:0","text":" Returned data from validateUserOp.\n validateUserOp returns a uint256, which is created by `_packedValidationData` and\n parsed by `_parseValidationData`.\n @param aggregator  - address(0) - The account validated the signature by itself.\n                      address(1) - The account failed to validate the signature.\n                      otherwise - This is an address of a signature aggregator that must\n                                  be used to validate the signature.\n @param validAfter  - This UserOp is valid only after this timestamp.\n @param validUntil - Last timestamp this operation is valid at, or 0 for \"indefinitely\"."},"id":811,"members":[{"constant":false,"id":806,"mutability":"mutable","name":"aggregator","nameLocation":"1162:10:0","nodeType":"VariableDeclaration","scope":811,"src":"1154:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":805,"name":"address","nodeType":"ElementaryTypeName","src":"1154:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":808,"mutability":"mutable","name":"validAfter","nameLocation":"1185:10:0","nodeType":"VariableDeclaration","scope":811,"src":"1178:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":807,"name":"uint48","nodeType":"ElementaryTypeName","src":"1178:6:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"},{"constant":false,"id":810,"mutability":"mutable","name":"validUntil","nameLocation":"1208:10:0","nodeType":"VariableDeclaration","scope":811,"src":"1201:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":809,"name":"uint48","nodeType":"ElementaryTypeName","src":"1201:6:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"name":"ValidationData","nameLocation":"1133:14:0","nodeType":"StructDefinition","scope":985,"src":"1126:95:0","visibility":"public"},{"body":{"id":870,"nodeType":"Block","src":"1556:314:0","statements":[{"assignments":[821],"declarations":[{"constant":false,"id":821,"mutability":"mutable","name":"aggregator","nameLocation":"1570:10:0","nodeType":"VariableDeclaration","scope":870,"src":"1562:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":820,"name":"address","nodeType":"ElementaryTypeName","src":"1562:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":829,"initialValue":{"arguments":[{"arguments":[{"id":826,"name":"validationData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"1599:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":825,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1591:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":824,"name":"uint160","nodeType":"ElementaryTypeName","src":"1591:7:0","typeDescriptions":{}}},"id":827,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1591:23:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint160","typeString":"uint160"}],"id":823,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1583:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":822,"name":"address","nodeType":"ElementaryTypeName","src":"1583:7:0","typeDescriptions":{}}},"id":828,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1583:32:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"1562:53:0"},{"assignments":[831],"declarations":[{"constant":false,"id":831,"mutability":"mutable","name":"validUntil","nameLocation":"1628:10:0","nodeType":"VariableDeclaration","scope":870,"src":"1621:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":830,"name":"uint48","nodeType":"ElementaryTypeName","src":"1621:6:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":838,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":836,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":834,"name":"validationData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"1648:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"hexValue":"313630","id":835,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1666:3:0","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"src":"1648:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":833,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1641:6:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint48_$","typeString":"type(uint48)"},"typeName":{"id":832,"name":"uint48","nodeType":"ElementaryTypeName","src":"1641:6:0","typeDescriptions":{}}},"id":837,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1641:29:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"1621:49:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint48","typeString":"uint48"},"id":841,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":839,"name":"validUntil","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":831,"src":"1680:10:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":840,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1694:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1680:15:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":851,"nodeType":"IfStatement","src":"1676:67:0","trueBody":{"id":850,"nodeType":"Block","src":"1697:46:0","statements":[{"expression":{"id":848,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":842,"name":"validUntil","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":831,"src":"1707:10:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[{"id":845,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1725:6:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint48_$","typeString":"type(uint48)"},"typeName":{"id":844,"name":"uint48","nodeType":"ElementaryTypeName","src":"1725:6:0","typeDescriptions":{}}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_type$_t_uint48_$","typeString":"type(uint48)"}],"id":843,"name":"type","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-27,"src":"1720:4:0","typeDescriptions":{"typeIdentifier":"t_function_metatype_pure$__$returns$__$","typeString":"function () pure"}},"id":846,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1720:12:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_magic_meta_type_t_uint48","typeString":"type(uint48)"}},"id":847,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"1733:3:0","memberName":"max","nodeType":"MemberAccess","src":"1720:16:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"src":"1707:29:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"id":849,"nodeType":"ExpressionStatement","src":"1707:29:0"}]}},{"assignments":[853],"declarations":[{"constant":false,"id":853,"mutability":"mutable","name":"validAfter","nameLocation":"1755:10:0","nodeType":"VariableDeclaration","scope":870,"src":"1748:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":852,"name":"uint48","nodeType":"ElementaryTypeName","src":"1748:6:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"id":863,"initialValue":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":861,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":856,"name":"validationData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":814,"src":"1775:14:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">>","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"},"id":859,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"3438","id":857,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1794:2:0","typeDescriptions":{"typeIdentifier":"t_rational_48_by_1","typeString":"int_const 48"},"value":"48"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"313630","id":858,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1799:3:0","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"src":"1794:8:0","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"}}],"id":860,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"1793:10:0","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"}},"src":"1775:28:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":855,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1768:6:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint48_$","typeString":"type(uint48)"},"typeName":{"id":854,"name":"uint48","nodeType":"ElementaryTypeName","src":"1768:6:0","typeDescriptions":{}}},"id":862,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1768:36:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"nodeType":"VariableDeclarationStatement","src":"1748:56:0"},{"expression":{"arguments":[{"id":865,"name":"aggregator","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":821,"src":"1832:10:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":866,"name":"validAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":853,"src":"1844:10:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},{"id":867,"name":"validUntil","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":831,"src":"1856:10:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_uint48","typeString":"uint48"},{"typeIdentifier":"t_uint48","typeString":"uint48"}],"id":864,"name":"ValidationData","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":811,"src":"1817:14:0","typeDescriptions":{"typeIdentifier":"t_type$_t_struct$_ValidationData_$811_storage_ptr_$","typeString":"type(struct ValidationData storage pointer)"}},"id":868,"isConstant":false,"isLValue":false,"isPure":false,"kind":"structConstructorCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1817:50:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_memory_ptr","typeString":"struct ValidationData memory"}},"functionReturnParameters":819,"id":869,"nodeType":"Return","src":"1810:57:0"}]},"documentation":{"id":812,"nodeType":"StructuredDocumentation","src":"1223:230:0","text":" Extract aggregator/sigFailed, validAfter, validUntil.\n Also convert zero validUntil to type(uint48).max.\n @param validationData - The packed validation data.\n @return data - The unpacked in-memory validation data."},"id":871,"implemented":true,"kind":"freeFunction","modifiers":[],"name":"_parseValidationData","nameLocation":"1463:20:0","nodeType":"FunctionDefinition","parameters":{"id":815,"nodeType":"ParameterList","parameters":[{"constant":false,"id":814,"mutability":"mutable","name":"validationData","nameLocation":"1497:14:0","nodeType":"VariableDeclaration","scope":871,"src":"1489:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":813,"name":"uint256","nodeType":"ElementaryTypeName","src":"1489:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1483:30:0"},"returnParameters":{"id":819,"nodeType":"ParameterList","parameters":[{"constant":false,"id":818,"mutability":"mutable","name":"data","nameLocation":"1550:4:0","nodeType":"VariableDeclaration","scope":871,"src":"1528:26:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_memory_ptr","typeString":"struct ValidationData"},"typeName":{"id":817,"nodeType":"UserDefinedTypeName","pathNode":{"id":816,"name":"ValidationData","nameLocations":["1528:14:0"],"nodeType":"IdentifierPath","referencedDeclaration":811,"src":"1528:14:0"},"referencedDeclaration":811,"src":"1528:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_storage_ptr","typeString":"struct ValidationData"}},"visibility":"internal"}],"src":"1527:28:0"},"scope":985,"src":"1454:416:0","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":907,"nodeType":"Block","src":"2105:143:0","statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":905,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":893,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":882,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":875,"src":"2134:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_memory_ptr","typeString":"struct ValidationData memory"}},"id":883,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2139:10:0","memberName":"aggregator","nodeType":"MemberAccess","referencedDeclaration":806,"src":"2134:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":881,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2126:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint160_$","typeString":"type(uint160)"},"typeName":{"id":880,"name":"uint160","nodeType":"ElementaryTypeName","src":"2126:7:0","typeDescriptions":{}}},"id":884,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2126:24:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":891,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":887,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":875,"src":"2170:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_memory_ptr","typeString":"struct ValidationData memory"}},"id":888,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2175:10:0","memberName":"validUntil","nodeType":"MemberAccess","referencedDeclaration":810,"src":"2170:15:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint48","typeString":"uint48"}],"id":886,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2162:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":885,"name":"uint256","nodeType":"ElementaryTypeName","src":"2162:7:0","typeDescriptions":{}}},"id":889,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2162:24:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"313630","id":890,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2190:3:0","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"src":"2162:31:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":892,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2161:33:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2126:68:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":903,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"expression":{"id":896,"name":"data","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":875,"src":"2214:4:0","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_memory_ptr","typeString":"struct ValidationData memory"}},"id":897,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2219:10:0","memberName":"validAfter","nodeType":"MemberAccess","referencedDeclaration":808,"src":"2214:15:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint48","typeString":"uint48"}],"id":895,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2206:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":894,"name":"uint256","nodeType":"ElementaryTypeName","src":"2206:7:0","typeDescriptions":{}}},"id":898,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2206:24:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"},"id":901,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"313630","id":899,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2235:3:0","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"3438","id":900,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2241:2:0","typeDescriptions":{"typeIdentifier":"t_rational_48_by_1","typeString":"int_const 48"},"value":"48"},"src":"2235:8:0","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"}}],"id":902,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2234:10:0","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"}},"src":"2206:38:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":904,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2205:40:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2126:119:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":879,"id":906,"nodeType":"Return","src":"2111:134:0"}]},"documentation":{"id":872,"nodeType":"StructuredDocumentation","src":"1872:146:0","text":" Helper to pack the return value for validateUserOp.\n @param data - The ValidationData to pack.\n @return the packed validation data."},"id":908,"implemented":true,"kind":"freeFunction","modifiers":[],"name":"_packValidationData","nameLocation":"2028:19:0","nodeType":"FunctionDefinition","parameters":{"id":876,"nodeType":"ParameterList","parameters":[{"constant":false,"id":875,"mutability":"mutable","name":"data","nameLocation":"2075:4:0","nodeType":"VariableDeclaration","scope":908,"src":"2053:26:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_memory_ptr","typeString":"struct ValidationData"},"typeName":{"id":874,"nodeType":"UserDefinedTypeName","pathNode":{"id":873,"name":"ValidationData","nameLocations":["2053:14:0"],"nodeType":"IdentifierPath","referencedDeclaration":811,"src":"2053:14:0"},"referencedDeclaration":811,"src":"2053:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_ValidationData_$811_storage_ptr","typeString":"struct ValidationData"}},"visibility":"internal"}],"src":"2047:34:0"},"returnParameters":{"id":879,"nodeType":"ParameterList","parameters":[{"constant":false,"id":878,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":908,"src":"2096:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":877,"name":"uint256","nodeType":"ElementaryTypeName","src":"2096:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2095:9:0"},"scope":985,"src":"2019:229:0","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":945,"nodeType":"Block","src":"2731:170:0","statements":[{"expression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":932,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"components":[{"condition":{"id":920,"name":"sigFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":911,"src":"2753:9:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":922,"name":"SIG_VALIDATION_SUCCESS","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":803,"src":"2790:22:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":923,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"2753:59:0","trueExpression":{"id":921,"name":"SIG_VALIDATION_FAILED","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":800,"src":"2766:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":924,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2752:61:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":930,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":927,"name":"validUntil","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":913,"src":"2833:10:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint48","typeString":"uint48"}],"id":926,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2825:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":925,"name":"uint256","nodeType":"ElementaryTypeName","src":"2825:7:0","typeDescriptions":{}}},"id":928,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2825:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"hexValue":"313630","id":929,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2848:3:0","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"src":"2825:26:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":931,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2824:28:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2752:100:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"|","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":941,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[{"id":935,"name":"validAfter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":915,"src":"2872:10:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint48","typeString":"uint48"}],"id":934,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"2864:7:0","typeDescriptions":{"typeIdentifier":"t_type$_t_uint256_$","typeString":"type(uint256)"},"typeName":{"id":933,"name":"uint256","nodeType":"ElementaryTypeName","src":"2864:7:0","typeDescriptions":{}}},"id":936,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2864:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<<","rightExpression":{"components":[{"commonType":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"},"id":939,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"leftExpression":{"hexValue":"313630","id":937,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2888:3:0","typeDescriptions":{"typeIdentifier":"t_rational_160_by_1","typeString":"int_const 160"},"value":"160"},"nodeType":"BinaryOperation","operator":"+","rightExpression":{"hexValue":"3438","id":938,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2894:2:0","typeDescriptions":{"typeIdentifier":"t_rational_48_by_1","typeString":"int_const 48"},"value":"48"},"src":"2888:8:0","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"}}],"id":940,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"TupleExpression","src":"2887:10:0","typeDescriptions":{"typeIdentifier":"t_rational_208_by_1","typeString":"int_const 208"}},"src":"2864:33:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"id":942,"isConstant":false,"isInlineArray":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"TupleExpression","src":"2863:35:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2752:146:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":919,"id":944,"nodeType":"Return","src":"2737:161:0"}]},"documentation":{"id":909,"nodeType":"StructuredDocumentation","src":"2250:360:0","text":" Helper to pack the return value for validateUserOp, when not using an aggregator.\n @param sigFailed  - True for signature failure, false for success.\n @param validUntil - Last timestamp this operation is valid at, or 0 for \"indefinitely\".\n @param validAfter - First timestamp this UserOperation is valid.\n @return the packed validation data."},"id":946,"implemented":true,"kind":"freeFunction","modifiers":[],"name":"_packValidationData","nameLocation":"2620:19:0","nodeType":"FunctionDefinition","parameters":{"id":916,"nodeType":"ParameterList","parameters":[{"constant":false,"id":911,"mutability":"mutable","name":"sigFailed","nameLocation":"2650:9:0","nodeType":"VariableDeclaration","scope":946,"src":"2645:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":910,"name":"bool","nodeType":"ElementaryTypeName","src":"2645:4:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":913,"mutability":"mutable","name":"validUntil","nameLocation":"2672:10:0","nodeType":"VariableDeclaration","scope":946,"src":"2665:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":912,"name":"uint48","nodeType":"ElementaryTypeName","src":"2665:6:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"},{"constant":false,"id":915,"mutability":"mutable","name":"validAfter","nameLocation":"2695:10:0","nodeType":"VariableDeclaration","scope":946,"src":"2688:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"},"typeName":{"id":914,"name":"uint48","nodeType":"ElementaryTypeName","src":"2688:6:0","typeDescriptions":{"typeIdentifier":"t_uint48","typeString":"uint48"}},"visibility":"internal"}],"src":"2639:68:0"},"returnParameters":{"id":919,"nodeType":"ParameterList","parameters":[{"constant":false,"id":918,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":946,"src":"2722:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":917,"name":"uint256","nodeType":"ElementaryTypeName","src":"2722:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2721:9:0"},"scope":985,"src":"2611:290:0","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":955,"nodeType":"Block","src":"3277:209:0","statements":[{"AST":{"nativeSrc":"3312:168:0","nodeType":"YulBlock","src":"3312:168:0","statements":[{"nativeSrc":"3326:22:0","nodeType":"YulVariableDeclaration","src":"3326:22:0","value":{"arguments":[{"kind":"number","nativeSrc":"3343:4:0","nodeType":"YulLiteral","src":"3343:4:0","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"3337:5:0","nodeType":"YulIdentifier","src":"3337:5:0"},"nativeSrc":"3337:11:0","nodeType":"YulFunctionCall","src":"3337:11:0"},"variables":[{"name":"mem","nativeSrc":"3330:3:0","nodeType":"YulTypedName","src":"3330:3:0","type":""}]},{"nativeSrc":"3361:22:0","nodeType":"YulVariableDeclaration","src":"3361:22:0","value":{"name":"data.length","nativeSrc":"3372:11:0","nodeType":"YulIdentifier","src":"3372:11:0"},"variables":[{"name":"len","nativeSrc":"3365:3:0","nodeType":"YulTypedName","src":"3365:3:0","type":""}]},{"expression":{"arguments":[{"name":"mem","nativeSrc":"3409:3:0","nodeType":"YulIdentifier","src":"3409:3:0"},{"name":"data.offset","nativeSrc":"3414:11:0","nodeType":"YulIdentifier","src":"3414:11:0"},{"name":"len","nativeSrc":"3427:3:0","nodeType":"YulIdentifier","src":"3427:3:0"}],"functionName":{"name":"calldatacopy","nativeSrc":"3396:12:0","nodeType":"YulIdentifier","src":"3396:12:0"},"nativeSrc":"3396:35:0","nodeType":"YulFunctionCall","src":"3396:35:0"},"nativeSrc":"3396:35:0","nodeType":"YulExpressionStatement","src":"3396:35:0"},{"nativeSrc":"3444:26:0","nodeType":"YulAssignment","src":"3444:26:0","value":{"arguments":[{"name":"mem","nativeSrc":"3461:3:0","nodeType":"YulIdentifier","src":"3461:3:0"},{"name":"len","nativeSrc":"3466:3:0","nodeType":"YulIdentifier","src":"3466:3:0"}],"functionName":{"name":"keccak256","nativeSrc":"3451:9:0","nodeType":"YulIdentifier","src":"3451:9:0"},"nativeSrc":"3451:19:0","nodeType":"YulFunctionCall","src":"3451:19:0"},"variableNames":[{"name":"ret","nativeSrc":"3444:3:0","nodeType":"YulIdentifier","src":"3444:3:0"}]}]},"evmVersion":"osaka","externalReferences":[{"declaration":949,"isOffset":false,"isSlot":false,"src":"3372:11:0","suffix":"length","valueSize":1},{"declaration":949,"isOffset":true,"isSlot":false,"src":"3414:11:0","suffix":"offset","valueSize":1},{"declaration":952,"isOffset":false,"isSlot":false,"src":"3444:3:0","valueSize":1}],"flags":["memory-safe"],"id":954,"nodeType":"InlineAssembly","src":"3287:193:0"}]},"documentation":{"id":947,"nodeType":"StructuredDocumentation","src":"2903:297:0","text":" keccak function over calldata.\n @dev copy calldata into memory, do keccak and drop allocated memory. Strangely, this is more efficient than letting solidity do it.\n @param data - the calldata bytes array to perform keccak on.\n @return ret - the keccak hash of the 'data' array."},"id":956,"implemented":true,"kind":"freeFunction","modifiers":[],"name":"calldataKeccak","nameLocation":"3214:14:0","nodeType":"FunctionDefinition","parameters":{"id":950,"nodeType":"ParameterList","parameters":[{"constant":false,"id":949,"mutability":"mutable","name":"data","nameLocation":"3244:4:0","nodeType":"VariableDeclaration","scope":956,"src":"3229:19:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":948,"name":"bytes","nodeType":"ElementaryTypeName","src":"3229:5:0","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3228:21:0"},"returnParameters":{"id":953,"nodeType":"ParameterList","parameters":[{"constant":false,"id":952,"mutability":"mutable","name":"ret","nameLocation":"3272:3:0","nodeType":"VariableDeclaration","scope":956,"src":"3264:11:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":951,"name":"bytes32","nodeType":"ElementaryTypeName","src":"3264:7:0","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"3263:13:0"},"scope":985,"src":"3205:281:0","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":973,"nodeType":"Block","src":"3679:37:0","statements":[{"expression":{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":966,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":959,"src":"3696:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":967,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":961,"src":"3700:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3696:5:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseExpression":{"id":970,"name":"b","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":961,"src":"3708:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"Conditional","src":"3696:13:0","trueExpression":{"id":969,"name":"a","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":959,"src":"3704:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":965,"id":972,"nodeType":"Return","src":"3689:20:0"}]},"documentation":{"id":957,"nodeType":"StructuredDocumentation","src":"3489:127:0","text":" The minimum of two numbers.\n @param a - First number.\n @param b - Second number.\n @return - the minimum value."},"id":974,"implemented":true,"kind":"freeFunction","modifiers":[],"name":"min","nameLocation":"3630:3:0","nodeType":"FunctionDefinition","parameters":{"id":962,"nodeType":"ParameterList","parameters":[{"constant":false,"id":959,"mutability":"mutable","name":"a","nameLocation":"3642:1:0","nodeType":"VariableDeclaration","scope":974,"src":"3634:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":958,"name":"uint256","nodeType":"ElementaryTypeName","src":"3634:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":961,"mutability":"mutable","name":"b","nameLocation":"3653:1:0","nodeType":"VariableDeclaration","scope":974,"src":"3645:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":960,"name":"uint256","nodeType":"ElementaryTypeName","src":"3645:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3633:22:0"},"returnParameters":{"id":965,"nodeType":"ParameterList","parameters":[{"constant":false,"id":964,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":974,"src":"3670:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":963,"name":"uint256","nodeType":"ElementaryTypeName","src":"3670:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3669:9:0"},"scope":985,"src":"3621:95:0","stateMutability":"pure","virtual":false,"visibility":"internal"},{"body":{"id":983,"nodeType":"Block","src":"4009:430:0","statements":[{"AST":{"nativeSrc":"4044:389:0","nodeType":"YulBlock","src":"4044:389:0","statements":[{"expression":{"arguments":[{"name":"memPointer","nativeSrc":"4078:10:0","nodeType":"YulIdentifier","src":"4078:10:0"},{"name":"allocationSize","nativeSrc":"4090:14:0","nodeType":"YulIdentifier","src":"4090:14:0"}],"functionName":{"name":"finalize_allocation","nativeSrc":"4058:19:0","nodeType":"YulIdentifier","src":"4058:19:0"},"nativeSrc":"4058:47:0","nodeType":"YulFunctionCall","src":"4058:47:0"},"nativeSrc":"4058:47:0","nodeType":"YulExpressionStatement","src":"4058:47:0"},{"body":{"nativeSrc":"4162:129:0","nodeType":"YulBlock","src":"4162:129:0","statements":[{"nativeSrc":"4180:58:0","nodeType":"YulVariableDeclaration","src":"4180:58:0","value":{"arguments":[{"name":"memPtr","nativeSrc":"4202:6:0","nodeType":"YulIdentifier","src":"4202:6:0"},{"arguments":[{"name":"size","nativeSrc":"4232:4:0","nodeType":"YulIdentifier","src":"4232:4:0"}],"functionName":{"name":"round_up_to_mul_of_32","nativeSrc":"4210:21:0","nodeType":"YulIdentifier","src":"4210:21:0"},"nativeSrc":"4210:27:0","nodeType":"YulFunctionCall","src":"4210:27:0"}],"functionName":{"name":"add","nativeSrc":"4198:3:0","nodeType":"YulIdentifier","src":"4198:3:0"},"nativeSrc":"4198:40:0","nodeType":"YulFunctionCall","src":"4198:40:0"},"variables":[{"name":"newFreePtr","nativeSrc":"4184:10:0","nodeType":"YulTypedName","src":"4184:10:0","type":""}]},{"expression":{"arguments":[{"kind":"number","nativeSrc":"4262:2:0","nodeType":"YulLiteral","src":"4262:2:0","type":"","value":"64"},{"name":"newFreePtr","nativeSrc":"4266:10:0","nodeType":"YulIdentifier","src":"4266:10:0"}],"functionName":{"name":"mstore","nativeSrc":"4255:6:0","nodeType":"YulIdentifier","src":"4255:6:0"},"nativeSrc":"4255:22:0","nodeType":"YulFunctionCall","src":"4255:22:0"},"nativeSrc":"4255:22:0","nodeType":"YulExpressionStatement","src":"4255:22:0"}]},"name":"finalize_allocation","nativeSrc":"4119:172:0","nodeType":"YulFunctionDefinition","parameters":[{"name":"memPtr","nativeSrc":"4148:6:0","nodeType":"YulTypedName","src":"4148:6:0","type":""},{"name":"size","nativeSrc":"4156:4:0","nodeType":"YulTypedName","src":"4156:4:0","type":""}],"src":"4119:172:0"},{"body":{"nativeSrc":"4353:70:0","nodeType":"YulBlock","src":"4353:70:0","statements":[{"nativeSrc":"4371:38:0","nodeType":"YulAssignment","src":"4371:38:0","value":{"arguments":[{"arguments":[{"name":"value","nativeSrc":"4389:5:0","nodeType":"YulIdentifier","src":"4389:5:0"},{"kind":"number","nativeSrc":"4396:2:0","nodeType":"YulLiteral","src":"4396:2:0","type":"","value":"31"}],"functionName":{"name":"add","nativeSrc":"4385:3:0","nodeType":"YulIdentifier","src":"4385:3:0"},"nativeSrc":"4385:14:0","nodeType":"YulFunctionCall","src":"4385:14:0"},{"arguments":[{"kind":"number","nativeSrc":"4405:2:0","nodeType":"YulLiteral","src":"4405:2:0","type":"","value":"31"}],"functionName":{"name":"not","nativeSrc":"4401:3:0","nodeType":"YulIdentifier","src":"4401:3:0"},"nativeSrc":"4401:7:0","nodeType":"YulFunctionCall","src":"4401:7:0"}],"functionName":{"name":"and","nativeSrc":"4381:3:0","nodeType":"YulIdentifier","src":"4381:3:0"},"nativeSrc":"4381:28:0","nodeType":"YulFunctionCall","src":"4381:28:0"},"variableNames":[{"name":"result","nativeSrc":"4371:6:0","nodeType":"YulIdentifier","src":"4371:6:0"}]}]},"name":"round_up_to_mul_of_32","nativeSrc":"4305:118:0","nodeType":"YulFunctionDefinition","parameters":[{"name":"value","nativeSrc":"4336:5:0","nodeType":"YulTypedName","src":"4336:5:0","type":""}],"returnVariables":[{"name":"result","nativeSrc":"4346:6:0","nodeType":"YulTypedName","src":"4346:6:0","type":""}],"src":"4305:118:0"}]},"evmVersion":"osaka","externalReferences":[{"declaration":979,"isOffset":false,"isSlot":false,"src":"4090:14:0","valueSize":1},{"declaration":977,"isOffset":false,"isSlot":false,"src":"4078:10:0","valueSize":1}],"flags":["memory-safe"],"id":982,"nodeType":"InlineAssembly","src":"4020:413:0"}]},"documentation":{"id":975,"nodeType":"StructuredDocumentation","src":"3718:209:0","text":" standard solidity memory allocation finalization.\n copied from solidity generated code\n @param memPointer - The current memory pointer\n @param allocationSize - Bytes allocated from memPointer."},"id":984,"implemented":true,"kind":"freeFunction","modifiers":[],"name":"finalizeAllocation","nameLocation":"3941:18:0","nodeType":"FunctionDefinition","parameters":{"id":980,"nodeType":"ParameterList","parameters":[{"constant":false,"id":977,"mutability":"mutable","name":"memPointer","nameLocation":"3968:10:0","nodeType":"VariableDeclaration","scope":984,"src":"3960:18:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":976,"name":"uint256","nodeType":"ElementaryTypeName","src":"3960:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":979,"mutability":"mutable","name":"allocationSize","nameLocation":"3988:14:0","nodeType":"VariableDeclaration","scope":984,"src":"3980:22:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":978,"name":"uint256","nodeType":"ElementaryTypeName","src":"3980:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3959:44:0"},"returnParameters":{"id":981,"nodeType":"ParameterList","parameters":[],"src":"4009:0:0"},"scope":985,"src":"3932:507:0","stateMutability":"pure","virtual":false,"visibility":"internal"}],"src":"32:4408:0"}