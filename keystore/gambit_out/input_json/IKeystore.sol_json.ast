{"absolutePath":"src/interface/IKeystore.sol","exportedSymbols":{"IKeystore":[1744],"UpdateAction":[1783],"ValidateAction":[1794]},"id":1745,"license":"MIT","nodeType":"SourceUnit","nodes":[{"id":1660,"literals":["solidity","^","0.8",".28"],"nodeType":"PragmaDirective","src":"32:24:6"},{"absolutePath":"src/lib/Actions.sol","file":"../lib/Actions.sol","id":1663,"nameLocation":"-1:-1:-1","nodeType":"ImportDirective","scope":1745,"sourceUnit":1795,"src":"58:64:6","symbolAliases":[{"foreign":{"id":1661,"name":"UpdateAction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1783,"src":"66:12:6","typeDescriptions":{}},"nameLocation":"-1:-1:-1"},{"foreign":{"id":1662,"name":"ValidateAction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1794,"src":"80:14:6","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"abstract":false,"baseContracts":[],"canonicalName":"IKeystore","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"id":1744,"linearizedBaseContracts":[1744],"name":"IKeystore","nameLocation":"134:9:6","nodeType":"ContractDefinition","nodes":[{"errorSelector":"756688fe","id":1665,"name":"InvalidNonce","nameLocation":"156:12:6","nodeType":"ErrorDefinition","parameters":{"id":1664,"nodeType":"ParameterList","parameters":[],"src":"168:2:6"},"src":"150:21:6"},{"errorSelector":"09bde339","id":1667,"name":"InvalidProof","nameLocation":"182:12:6","nodeType":"ErrorDefinition","parameters":{"id":1666,"nodeType":"ParameterList","parameters":[],"src":"194:2:6"},"src":"176:21:6"},{"errorSelector":"1420d2a7","id":1669,"name":"InvalidNextProof","nameLocation":"208:16:6","nodeType":"ErrorDefinition","parameters":{"id":1668,"nodeType":"ParameterList","parameters":[],"src":"224:2:6"},"src":"202:25:6"},{"errorSelector":"726a091f","id":1671,"name":"UnregisteredProof","nameLocation":"238:17:6","nodeType":"ErrorDefinition","parameters":{"id":1670,"nodeType":"ParameterList","parameters":[],"src":"255:2:6"},"src":"232:26:6"},{"errorSelector":"30812d42","id":1673,"name":"InvalidNode","nameLocation":"269:11:6","nodeType":"ErrorDefinition","parameters":{"id":1672,"nodeType":"ParameterList","parameters":[],"src":"280:2:6"},"src":"263:20:6"},{"errorSelector":"baa3de5f","id":1675,"name":"InvalidVerifier","nameLocation":"294:15:6","nodeType":"ErrorDefinition","parameters":{"id":1674,"nodeType":"ParameterList","parameters":[],"src":"309:2:6"},"src":"288:24:6"},{"anonymous":false,"eventSelector":"df6fe3b7516d2857b309887e79be529e781c7260ac62875fedf6c1adcccf3cbd","id":1687,"name":"RootHashUpdated","nameLocation":"324:15:6","nodeType":"EventDefinition","parameters":{"id":1686,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1677,"indexed":true,"mutability":"mutable","name":"refHash","nameLocation":"365:7:6","nodeType":"VariableDeclaration","scope":1687,"src":"349:23:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1676,"name":"bytes32","nodeType":"ElementaryTypeName","src":"349:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":1679,"indexed":true,"mutability":"mutable","name":"account","nameLocation":"390:7:6","nodeType":"VariableDeclaration","scope":1687,"src":"374:23:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1678,"name":"address","nodeType":"ElementaryTypeName","src":"374:7:6","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":1681,"indexed":true,"mutability":"mutable","name":"nextHash","nameLocation":"415:8:6","nodeType":"VariableDeclaration","scope":1687,"src":"399:24:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1680,"name":"bytes32","nodeType":"ElementaryTypeName","src":"399:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":1683,"indexed":false,"mutability":"mutable","name":"nonce","nameLocation":"433:5:6","nodeType":"VariableDeclaration","scope":1687,"src":"425:13:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1682,"name":"uint256","nodeType":"ElementaryTypeName","src":"425:7:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":1685,"indexed":false,"mutability":"mutable","name":"success","nameLocation":"445:7:6","nodeType":"VariableDeclaration","scope":1687,"src":"440:12:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":1684,"name":"bool","nodeType":"ElementaryTypeName","src":"440:4:6","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"339:119:6"},"src":"318:141:6"},{"functionSelector":"59f99c78","id":1694,"implemented":false,"kind":"function","modifiers":[],"name":"handleUpdates","nameLocation":"474:13:6","nodeType":"FunctionDefinition","parameters":{"id":1692,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1691,"mutability":"mutable","name":"actions","nameLocation":"512:7:6","nodeType":"VariableDeclaration","scope":1694,"src":"488:31:6","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UpdateAction_$1783_calldata_ptr_$dyn_calldata_ptr","typeString":"struct UpdateAction[]"},"typeName":{"baseType":{"id":1689,"nodeType":"UserDefinedTypeName","pathNode":{"id":1688,"name":"UpdateAction","nameLocations":["488:12:6"],"nodeType":"IdentifierPath","referencedDeclaration":1783,"src":"488:12:6"},"referencedDeclaration":1783,"src":"488:12:6","typeDescriptions":{"typeIdentifier":"t_struct$_UpdateAction_$1783_storage_ptr","typeString":"struct UpdateAction"}},"id":1690,"nodeType":"ArrayTypeName","src":"488:14:6","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_UpdateAction_$1783_storage_$dyn_storage_ptr","typeString":"struct UpdateAction[]"}},"visibility":"internal"}],"src":"487:33:6"},"returnParameters":{"id":1693,"nodeType":"ParameterList","parameters":[],"src":"529:0:6"},"scope":1744,"src":"465:65:6","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"functionSelector":"5ed9592a","id":1702,"implemented":false,"kind":"function","modifiers":[],"name":"validate","nameLocation":"544:8:6","nodeType":"FunctionDefinition","parameters":{"id":1698,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1697,"mutability":"mutable","name":"action","nameLocation":"577:6:6","nodeType":"VariableDeclaration","scope":1702,"src":"553:30:6","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_struct$_ValidateAction_$1794_calldata_ptr","typeString":"struct ValidateAction"},"typeName":{"id":1696,"nodeType":"UserDefinedTypeName","pathNode":{"id":1695,"name":"ValidateAction","nameLocations":["553:14:6"],"nodeType":"IdentifierPath","referencedDeclaration":1794,"src":"553:14:6"},"referencedDeclaration":1794,"src":"553:14:6","typeDescriptions":{"typeIdentifier":"t_struct$_ValidateAction_$1794_storage_ptr","typeString":"struct ValidateAction"}},"visibility":"internal"}],"src":"552:32:6"},"returnParameters":{"id":1701,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1700,"mutability":"mutable","name":"validationData","nameLocation":"616:14:6","nodeType":"VariableDeclaration","scope":1702,"src":"608:22:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1699,"name":"uint256","nodeType":"ElementaryTypeName","src":"608:7:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"607:24:6"},"scope":1744,"src":"535:97:6","stateMutability":"view","virtual":false,"visibility":"external"},{"functionSelector":"80855fff","id":1712,"implemented":false,"kind":"function","modifiers":[],"name":"registerNode","nameLocation":"647:12:6","nodeType":"FunctionDefinition","parameters":{"id":1710,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1704,"mutability":"mutable","name":"refHash","nameLocation":"668:7:6","nodeType":"VariableDeclaration","scope":1712,"src":"660:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1703,"name":"bytes32","nodeType":"ElementaryTypeName","src":"660:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":1707,"mutability":"mutable","name":"proof","nameLocation":"696:5:6","nodeType":"VariableDeclaration","scope":1712,"src":"677:24:6","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_calldata_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":1705,"name":"bytes32","nodeType":"ElementaryTypeName","src":"677:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":1706,"nodeType":"ArrayTypeName","src":"677:9:6","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"},{"constant":false,"id":1709,"mutability":"mutable","name":"node","nameLocation":"718:4:6","nodeType":"VariableDeclaration","scope":1712,"src":"703:19:6","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":1708,"name":"bytes","nodeType":"ElementaryTypeName","src":"703:5:6","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"659:64:6"},"returnParameters":{"id":1711,"nodeType":"ParameterList","parameters":[],"src":"732:0:6"},"scope":1744,"src":"638:95:6","stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"functionSelector":"afa6f901","id":1723,"implemented":false,"kind":"function","modifiers":[],"name":"getRegisteredNode","nameLocation":"747:17:6","nodeType":"FunctionDefinition","parameters":{"id":1719,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1714,"mutability":"mutable","name":"refHash","nameLocation":"773:7:6","nodeType":"VariableDeclaration","scope":1723,"src":"765:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1713,"name":"bytes32","nodeType":"ElementaryTypeName","src":"765:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":1716,"mutability":"mutable","name":"account","nameLocation":"790:7:6","nodeType":"VariableDeclaration","scope":1723,"src":"782:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1715,"name":"address","nodeType":"ElementaryTypeName","src":"782:7:6","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":1718,"mutability":"mutable","name":"nodeHash","nameLocation":"807:8:6","nodeType":"VariableDeclaration","scope":1723,"src":"799:16:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1717,"name":"bytes32","nodeType":"ElementaryTypeName","src":"799:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"764:52:6"},"returnParameters":{"id":1722,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1721,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":1723,"src":"864:12:6","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":1720,"name":"bytes","nodeType":"ElementaryTypeName","src":"864:5:6","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"863:14:6"},"scope":1744,"src":"738:140:6","stateMutability":"view","virtual":false,"visibility":"external"},{"functionSelector":"4ffa0484","id":1732,"implemented":false,"kind":"function","modifiers":[],"name":"getRootHash","nameLocation":"893:11:6","nodeType":"FunctionDefinition","parameters":{"id":1728,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1725,"mutability":"mutable","name":"refHash","nameLocation":"913:7:6","nodeType":"VariableDeclaration","scope":1732,"src":"905:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1724,"name":"bytes32","nodeType":"ElementaryTypeName","src":"905:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":1727,"mutability":"mutable","name":"account","nameLocation":"930:7:6","nodeType":"VariableDeclaration","scope":1732,"src":"922:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1726,"name":"address","nodeType":"ElementaryTypeName","src":"922:7:6","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"904:34:6"},"returnParameters":{"id":1731,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1730,"mutability":"mutable","name":"rootHash","nameLocation":"970:8:6","nodeType":"VariableDeclaration","scope":1732,"src":"962:16:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1729,"name":"bytes32","nodeType":"ElementaryTypeName","src":"962:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"961:18:6"},"scope":1744,"src":"884:96:6","stateMutability":"view","virtual":false,"visibility":"external"},{"functionSelector":"8e9bd7c4","id":1743,"implemented":false,"kind":"function","modifiers":[],"name":"getNonce","nameLocation":"994:8:6","nodeType":"FunctionDefinition","parameters":{"id":1739,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1734,"mutability":"mutable","name":"refHash","nameLocation":"1011:7:6","nodeType":"VariableDeclaration","scope":1743,"src":"1003:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":1733,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1003:7:6","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":1736,"mutability":"mutable","name":"account","nameLocation":"1028:7:6","nodeType":"VariableDeclaration","scope":1743,"src":"1020:15:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":1735,"name":"address","nodeType":"ElementaryTypeName","src":"1020:7:6","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":1738,"mutability":"mutable","name":"key","nameLocation":"1045:3:6","nodeType":"VariableDeclaration","scope":1743,"src":"1037:11:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint192","typeString":"uint192"},"typeName":{"id":1737,"name":"uint192","nodeType":"ElementaryTypeName","src":"1037:7:6","typeDescriptions":{"typeIdentifier":"t_uint192","typeString":"uint192"}},"visibility":"internal"}],"src":"1002:47:6"},"returnParameters":{"id":1742,"nodeType":"ParameterList","parameters":[{"constant":false,"id":1741,"mutability":"mutable","name":"nonce","nameLocation":"1081:5:6","nodeType":"VariableDeclaration","scope":1743,"src":"1073:13:6","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":1740,"name":"uint256","nodeType":"ElementaryTypeName","src":"1073:7:6","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1072:15:6"},"scope":1744,"src":"985:103:6","stateMutability":"view","virtual":false,"visibility":"external"}],"scope":1745,"src":"124:966:6","usedErrors":[1665,1667,1669,1671,1673,1675],"usedEvents":[1687]}],"src":"32:1059:6"}